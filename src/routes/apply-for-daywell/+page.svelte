<script lang="ts">
  import Recaptcha from "$lib/security/recaptcha.svelte";

  let loading = false;

  let email: string;
  let password: string;
</script>

<div class="mx-2">
  <div class="max-w-xl mx-auto">
    <h1 class="font-bold text-center text-3xl my-4">ë°ì´ì›°ì— ì§€ì›í•˜ì„¸ìš”.</h1>
    <p>ì§€ì›ì€ 3ì›” 31ì¼ ì˜¤ì „ 8ì‹œ 15ë¶„ì— ì‹œì‘í•©ë‹ˆë‹¤!</p>

    <!--
    <h3 class="font-bold text-2xl mb-2">ğŸ ë² ë„¤ë“€ ì •ë³´ë¡œ 30ì´ˆ ì§€ì›í•˜ê¸°</h3>

    <form class="mb-4">
      <input
        class="block form-input rounded-lg min-w-full mb-2"
        type="text"
        placeholder="ë² ë„¤ë“€ ê³„ì • ì´ë©”ì¼"
        readonly={loading}
        bind:value={email}
      />

      <input
        class="block form-input rounded-lg min-w-full mb-2"
        type="password"
        placeholder="ë² ë„¤ë“€ ê³„ì • ë¹„ë°€ë²ˆí˜¸"
        readonly={loading}
        bind:value={password}
      />

      <Recaptcha let:execute>
        <button
          class="bg-yellow-400 block rounded-lg min-w-full py-1"
          class:animate-ping={loading}
          type="submit"
          disabled={loading}
          on:click={async () => {
            loading = true;

            const response = await fetch("/api/fetch-benedu", {
              method: "POST",
              body: JSON.stringify({
                email,
                password,
                recaptchaToken: await execute(),
              }),
            });

            console.log(await response.json());

            loading = false;
          }}
        >
          ë¡œê·¸ì¸
        </button>
      </Recaptcha>
    </form>

    <div class="flex items-center mb-4">
      <hr class="border-[1px] border-black grow" />
      <p class="mx-4">ë˜ëŠ”</p>
      <hr class="border-[1px] border-black grow" />
    </div>
    <a
      class="block bg-green-400 font-bold text-center text-2xl rounded-lg py-1 mb-4"
      href="/surveys/20230330-daywell"
    >
      ì •ë³´ ì§ì ‘ ì…ë ¥í•˜ê¸°
    </a>
  -->
  </div>
</div>
